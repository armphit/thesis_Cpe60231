<div class="panel-body" style="margin-left: 10px; margin-right: 10px;">
  คณะ:&nbsp;&nbsp;<mat-form-field style="width: 30%;">
    <mat-label>โปรดเลือกคณะ</mat-label>
    <mat-select required>
      <mat-option
        *ngFor="let i of dataFaculty; let x = index"
        [value]="i.name"
        (click)="clickFaculty(i.code, i.name)"
      >
        {{ i.name }}
      </mat-option>
    </mat-select>
  </mat-form-field>
  <br />
  <span *ngIf="codeFaculty!"
    >สาขา:&nbsp;&nbsp;<mat-form-field style="width: 30%;">
      <mat-label>โปรดเลือกสาขา</mat-label>
      <mat-select required>
        <mat-option
          *ngFor="let i of dataMajor; let x = index"
          [value]="i.name"
          (click)="clickMajor(i.code, i.name, i.acronym)"
        >
          {{ i.name }}
        </mat-option>
      </mat-select>
    </mat-form-field></span
  >
  <br />

  <span *ngIf="codeMajor!"
    >หัวหน้าสาขาวิชา :&nbsp;&nbsp;{{ nameBranchhead }}&nbsp;&nbsp;</span
  >
  <br />

  <span *ngIf="codeMajor!"
    >โปรแกรมวิชา:&nbsp;&nbsp;<mat-form-field style="width: 50%;">
      <mat-label>โปรดเลือกโปรแกรมวิชา</mat-label>
      <mat-select required>
        <mat-option
          style="width: auto;"
          *ngFor="let i of dataBranch; let x = index"
          [value]="i.name"
          (click)="clickBranch(i.code, i.name, i.acronym)"
        >
          {{ i.name }}
        </mat-option>
      </mat-select>
    </mat-form-field></span
  >
  <br />

  <span *ngIf="codeBranch!"
    >กลุ่มเรียน:&nbsp;&nbsp;<mat-form-field>
      <mat-label>โปรดเลือกกลุ่มเรียน</mat-label>
      <mat-select required>
        <mat-option
          style="width: auto;"
          *ngFor="let i of dataGroup; let x = index"
          [value]="i.study_group_id"
          (click)="
            clickGroup(
              i.study_group_id,
              i.study_group_name,
              i.titlename,
              i.fname,
              i.lname
            )
          "
        >
          {{ i.study_group_name }}
        </mat-option>
      </mat-select>
    </mat-form-field></span
  >
  <br />
  <span *ngIf="groupID!"
    >อาจารย์ที่ปรึกษา : &nbsp;&nbsp;{{ groupUser_name }}</span
  >
</div>
<table class="table" *ngIf="dataAdvice!">
  <thead class="thead-dark">
    <tr>
      <th scope="col">ลำดับ</th>
      <th scope="col">รหัสนักศึกษา</th>
      <th scope="col">ชื่อนักศึกษา</th>
      <th scope="col"></th>
    </tr>
  </thead>
  <tbody>
    <tr *ngFor="let i of dataAdvice; let x = index">
      <th scope="row" style="padding-top: 15px;">{{ x + 1 }}</th>
      <td style="padding-top: 15px;">
        {{ i.userID }}
      </td>
      <td style="padding-top: 15px;">
        {{ i.titlename }}{{ i.fname }}&nbsp;&nbsp;{{ i.lname }}
      </td>
      <td>
        <button
          type="button"
          class="btn btn-primary btn-sm"
          data-toggle="modal"
          data-target="#Advice"
        >
          ข้อมูลการปรึกษา
        </button>
      </td>

      <div class="modal" id="Advice">
        <div class="modal-dialog">
          <div class="modal-content">
            <!-- Modal Header -->
            <div class="modal-header">
              <h2 class="modal-title">ข้อมูลการปรึกษา</h2>
              <button type="button" class="close" data-dismiss="modal">
                &times;
              </button>
            </div>

            <!-- Modal body -->
            <div class="modal-body">
              <label for="exampleFormControlInput">เรื่อง</label>
              <input
                readonly
                class="form-control"
                type="text"
                value="{{ i.subject_advice }}"
              />
              <br />
              <label for="exampleFormControlTextarea1">รายละเอียด</label>
              <textarea
                readonly
                class="form-control"
                id="exampleFormControlTextarea"
                value="{{ i.detail }}"
                rows="3"
              ></textarea>
              <br />
              <strong>วันที่ขอรับการปรึกษา :</strong> &nbsp;&nbsp;
              {{ getDate(i.advice_date) }}
              <br />
              <br />
              <label for="exampleFormControlTextarea">การตอบกลับ</label>
              <textarea
                readonly
                class="form-control"
                id="exampleFormControlTextarea"
                rows="3"
                value="{{ i.reply }}"
              ></textarea>
              <br />
              <strong>วันที่ตอบรับคำขอการปรึกษา :</strong> &nbsp;&nbsp;
              {{ getDate(i.reply_advice_date) }}
              <br />
            </div>

            <!-- Modal footer -->
            <div class="modal-footer">
              <button type="button" class="btn btn-danger" data-dismiss="modal">
                Close
              </button>
            </div>
          </div>
        </div>
      </div>
    </tr>
  </tbody>
</table>

<!-- The Modal -->
<div class="modal" id="myModal">
  <div class="modal-dialog">
    <div class="modal-content">
      <!-- Modal Header -->
      <div class="modal-header">
        <h2 class="modal-title">ข้อมูลการปรึกษา</h2>
        <button type="button" class="close" data-dismiss="modal">
          &times;
        </button>
      </div>

      <!-- Modal body -->
      <div class="modal-body">
        Modal body..
      </div>

      <!-- Modal footer -->
      <div class="modal-footer">
        <button type="button" class="btn btn-danger" data-dismiss="modal">
          Close
        </button>
      </div>
    </div>
  </div>
</div>
